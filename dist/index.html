<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>@andreuscafe - Developer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="favicon/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="favicon/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="favicon/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="favicon/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="favicon/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="favicon/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="favicon/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="favicon/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="favicon/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="favicon/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="favicon/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="favicon/ms-icon-144x144.png"
    />
    <meta name="theme-color" content="#ffffff" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"
    />
    <link rel="stylesheet" href="./styles/styles.css" />
  </head>
  <body>
    <div class="phoneWrapper" id="app">
      <div class="phone" @click="toggleMenu('close')">
        <div class="loading" v-show="loading">Aguant√° que cargue</div>
        <div class="appWrapper">
          <div class="header">
            <div class="backWrapper">
              <svg class="backIcon" viewBox="0 0 24 24">
                <path
                  d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"
                />
              </svg>
            </div>

            <a
              href="https://twitter.com/andreuscafe"
              target="_blank"
              class="userWrapper"
            >
              <img src="./img/andreuscafe.jpg" alt="Usuario" class="userIcon" />

              <span class="userName">{{ chat.name }}</span>
            </a>

            <div class="actionsWrapper">
              <svg class="actionIcon" viewBox="0 0 24 24">
                <path
                  d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"
                />
              </svg>
              <svg
                class="actionIcon"
                id="headerMenuButton"
                @click.stop="toggleMenu()"
                viewBox="0 0 24 24"
              >
                <path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
              </svg>

              <nav class="menuWrapper" v-bind:data-open="menuOpen">
                <div class="menuItem" id="fullScreen" @click="fullScreen">
                  <svg class="menuIcon" viewBox="0 0 24 24">
                    <path
                      d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z"
                    />
                  </svg>
                  <span class="menuLabel">Pantalla completa</span>
                </div>

                <!-- <div class="menuItem">
                <svg  class="menuIcon" viewBox="0 0 24 24">
                  <path d="M17,19V5H7V19H17M17,1A2,2 0 0,1 19,3V21A2,2 0 0,1 17,23H7C5.89,23 5,22.1 5,21V3C5,1.89 5.89,1 7,1H17M9,7H15V9H9V7M9,11H13V13H9V11Z" />
                </svg>
                <span class="menuLabel">Cambiar vista</span>
              </div> -->

                <div class="menuItem" @click="darkMode">
                  <svg class="menuIcon" viewBox="0 0 24 24">
                    <path
                      d="M10,2C8.18,2 6.47,2.5 5,3.35C8,5.08 10,8.3 10,12C10,15.7 8,18.92 5,20.65C6.47,21.5 8.18,22 10,22A10,10 0 0,0 20,12A10,10 0 0,0 10,2Z"
                    />
                  </svg>
                  <span class="menuLabel">Modo oscuro</span>
                </div>

                <div class="menuItem" @click="clearChat">
                  <svg class="menuIcon" viewBox="0 0 24 24">
                    <path
                      d="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"
                    />
                  </svg>
                  <span class="menuLabel">Borrar chat</span>
                </div>
              </nav>
            </div>
          </div>

          <div class="chatWrapper">
            <div
              class="messagesWrapper dragscroll"
              id="messagesWrapper"
              @click="focusInput"
            >
              <div
                :class="{sentWrapper: message.fromUser, receivedWrapper: !message.fromUser}"
                v-for="message in chat.messages"
              >
                <!-- <div class="message">
                                    <span
                                        class="messageText"
                                        v-bind:data-date="message.hour"
                                        >{{ message.text }}</span
                                    >
                                </div> -->
                <message
                  v-bind:hour="message.hour"
                  v-bind:text="message.text"
                ></message>
              </div>
            </div>

            <div class="inputWrapper">
              <div class="emojisWrapper">
                <svg class="emojisIcon" viewBox="0 0 24 24">
                  <path
                    d="M5.5,2C3.56,2 2,3.56 2,5.5V18.5C2,20.44 3.56,22 5.5,22H16L22,16V5.5C22,3.56 20.44,2 18.5,2H5.5M5.75,4H18.25A1.75,1.75 0 0,1 20,5.75V15H18.5C16.56,15 15,16.56 15,18.5V20H5.75A1.75,1.75 0 0,1 4,18.25V5.75A1.75,1.75 0 0,1 5.75,4M14.44,6.77C14.28,6.77 14.12,6.79 13.97,6.83C13.03,7.09 12.5,8.05 12.74,9C12.79,9.15 12.86,9.3 12.95,9.44L16.18,8.56C16.18,8.39 16.16,8.22 16.12,8.05C15.91,7.3 15.22,6.77 14.44,6.77M8.17,8.5C8,8.5 7.85,8.5 7.7,8.55C6.77,8.81 6.22,9.77 6.47,10.7C6.5,10.86 6.59,11 6.68,11.16L9.91,10.28C9.91,10.11 9.89,9.94 9.85,9.78C9.64,9 8.95,8.5 8.17,8.5M16.72,11.26L7.59,13.77C8.91,15.3 11,15.94 12.95,15.41C14.9,14.87 16.36,13.25 16.72,11.26Z"
                  />
                </svg>
              </div>

              <div class="textWrapper">
                <input
                  type="text"
                  id="messageInput"
                  placeholder="Escribe algo..."
                  autocomplete="off"
                  spellcheck="false"
                  class="textInput"
                  v-model="chat.messageInput"
                  @keydown.enter.stop="sendMessage"
                  @keydown.ctrl.shift.delete.stop="removeLastMessage"
                />
              </div>

              <div class="actionsWrapper">
                <div class="sendButton">
                  <svg
                    class="sendIcon"
                    @click="sendMessage"
                    viewBox="0 0 24 24"
                  >
                    <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link
      href="https://unpkg.com/minibarjs@latest/dist/minibar.min.css"
      rel="stylesheet"
      type="text/css"
    />

    <script
      src="https://unpkg.com/minibarjs@latest/dist/minibar.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/screenfull.js/4.2.0/screenfull.min.js"
      type="text/javascript"
    ></script>

    <script src="https://cdn.rawgit.com/asvd/dragscroll/master/dragscroll.js"></script>

    <script type="text/javascript" src="main.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="/__/firebase/7.14.5/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="/__/firebase/7.14.5/firebase-analytics.js"></script>
    <!-- Initialize Firebase -->
    <script src="/__/firebase/init.js"></script>
  </body>
</html>
